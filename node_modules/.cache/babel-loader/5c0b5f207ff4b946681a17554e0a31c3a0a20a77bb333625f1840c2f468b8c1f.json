{"ast":null,"code":"/**\n * Based on ReactArt.js\n * Copyright (c) 2017-present Lavrenov Anton.\n * All rights reserved.\n *\n * MIT\n */\n'use strict';\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nimport React from 'react';\nimport Konva from 'konva/lib/Core';\nimport ReactFiberReconciler from 'react-reconciler';\nimport * as HostConfig from './ReactKonvaHostConfig';\nimport { applyNodeProps, toggleStrictMode } from './makeUpdates';\nvar EXPECTED_REACT_VERSION = '17';\nexport var __matchRectVersion = React.version.split('.')[0] === EXPECTED_REACT_VERSION;\n\n// That warning is useful\nif (!__matchRectVersion) {\n  var command = 'npm install react@' + EXPECTED_REACT_VERSION + ' react-dom@' + EXPECTED_REACT_VERSION;\n  console.warn('Version mismatch detected for react-konva and react. react-konva expects to have react version ' + EXPECTED_REACT_VERSION + ', but it has version ' + React.version + '. Make sure versions are matched, otherwise, react-konva work is not guaranteed. You can use this command: \"' + command + '\"');\n}\nfunction usePrevious(value) {\n  var ref = React.useRef();\n  React.useLayoutEffect(function () {\n    ref.current = value;\n  });\n  return ref.current;\n}\nvar StageWrap = function StageWrap(props) {\n  var container = React.useRef();\n  var stage = React.useRef();\n  var fiberRef = React.useRef();\n  var oldProps = usePrevious(props);\n  var _setRef = function _setRef(stage) {\n    var forwardedRef = props.forwardedRef;\n    if (!forwardedRef) {\n      return;\n    }\n    if (typeof forwardedRef === 'function') {\n      forwardedRef(stage);\n    } else {\n      forwardedRef.current = stage;\n    }\n  };\n  React.useLayoutEffect(function () {\n    stage.current = new Konva.Stage({\n      width: props.width,\n      height: props.height,\n      container: container.current\n    });\n    _setRef(stage.current);\n    fiberRef.current = KonvaRenderer.createContainer(stage.current);\n    KonvaRenderer.updateContainer(props.children, fiberRef.current);\n    return function () {\n      if (!Konva.isBrowser) {\n        return;\n      }\n      _setRef(null);\n      KonvaRenderer.updateContainer(null, fiberRef.current, null);\n      stage.current.destroy();\n    };\n  }, []);\n  React.useLayoutEffect(function () {\n    _setRef(stage.current);\n    applyNodeProps(stage.current, props, oldProps);\n    KonvaRenderer.updateContainer(props.children, fiberRef.current, null);\n  });\n  return React.createElement('div', {\n    ref: container,\n    accessKey: props.accessKey,\n    className: props.className,\n    role: props.role,\n    style: props.style,\n    tabIndex: props.tabIndex,\n    title: props.title\n  });\n};\nexport var Layer = 'Layer';\nexport var FastLayer = 'FastLayer';\nexport var Group = 'Group';\nexport var Label = 'Label';\nexport var Rect = 'Rect';\nexport var Circle = 'Circle';\nexport var Ellipse = 'Ellipse';\nexport var Wedge = 'Wedge';\nexport var Line = 'Line';\nexport var Sprite = 'Sprite';\nexport var Image = 'Image';\nexport var Text = 'Text';\nexport var TextPath = 'TextPath';\nexport var Star = 'Star';\nexport var Ring = 'Ring';\nexport var Arc = 'Arc';\nexport var Tag = 'Tag';\nexport var Path = 'Path';\nexport var RegularPolygon = 'RegularPolygon';\nexport var Arrow = 'Arrow';\nexport var Shape = 'Shape';\nexport var Transformer = 'Transformer';\nvar KonvaRenderer = ReactFiberReconciler(HostConfig);\nKonvaRenderer.injectIntoDevTools({\n  findHostInstanceByFiber: function findHostInstanceByFiber() {\n    return null;\n  },\n  bundleType: process.env.NODE_ENV !== 'production' ? 1 : 0,\n  version: React.version,\n  rendererPackageName: 'react-konva'\n});\nexport var Stage = React.forwardRef(function (props, ref) {\n  return React.createElement(StageWrap, _extends({}, props, {\n    forwardedRef: ref\n  }));\n});\nexport var useStrictMode = toggleStrictMode;","map":{"version":3,"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","React","Konva","ReactFiberReconciler","HostConfig","applyNodeProps","toggleStrictMode","EXPECTED_REACT_VERSION","__matchRectVersion","version","split","command","console","warn","usePrevious","value","ref","useRef","useLayoutEffect","current","StageWrap","props","container","stage","fiberRef","oldProps","_setRef","forwardedRef","Stage","width","height","KonvaRenderer","createContainer","updateContainer","children","isBrowser","destroy","createElement","accessKey","className","role","style","tabIndex","title","Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer","injectIntoDevTools","findHostInstanceByFiber","bundleType","process","env","NODE_ENV","rendererPackageName","forwardRef","useStrictMode"],"sources":["/Users/UX201446/Documents/GitHub/konva/node_modules/react-konva/es/ReactKonvaCore.js"],"sourcesContent":["/**\n * Based on ReactArt.js\n * Copyright (c) 2017-present Lavrenov Anton.\n * All rights reserved.\n *\n * MIT\n */\n'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport React from 'react';\nimport Konva from 'konva/lib/Core';\nimport ReactFiberReconciler from 'react-reconciler';\nimport * as HostConfig from './ReactKonvaHostConfig';\nimport { applyNodeProps, toggleStrictMode } from './makeUpdates';\n\nvar EXPECTED_REACT_VERSION = '17';\nexport var __matchRectVersion = React.version.split('.')[0] === EXPECTED_REACT_VERSION;\n\n// That warning is useful\nif (!__matchRectVersion) {\n  var command = 'npm install react@' + EXPECTED_REACT_VERSION + ' react-dom@' + EXPECTED_REACT_VERSION;\n  console.warn('Version mismatch detected for react-konva and react. react-konva expects to have react version ' + EXPECTED_REACT_VERSION + ', but it has version ' + React.version + '. Make sure versions are matched, otherwise, react-konva work is not guaranteed. You can use this command: \"' + command + '\"');\n}\n\nfunction usePrevious(value) {\n  var ref = React.useRef();\n  React.useLayoutEffect(function () {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nvar StageWrap = function StageWrap(props) {\n  var container = React.useRef();\n  var stage = React.useRef();\n  var fiberRef = React.useRef();\n\n  var oldProps = usePrevious(props);\n\n  var _setRef = function _setRef(stage) {\n    var forwardedRef = props.forwardedRef;\n\n    if (!forwardedRef) {\n      return;\n    }\n    if (typeof forwardedRef === 'function') {\n      forwardedRef(stage);\n    } else {\n      forwardedRef.current = stage;\n    }\n  };\n\n  React.useLayoutEffect(function () {\n    stage.current = new Konva.Stage({\n      width: props.width,\n      height: props.height,\n      container: container.current\n    });\n\n    _setRef(stage.current);\n\n    fiberRef.current = KonvaRenderer.createContainer(stage.current);\n    KonvaRenderer.updateContainer(props.children, fiberRef.current);\n\n    return function () {\n      if (!Konva.isBrowser) {\n        return;\n      }\n      _setRef(null);\n      KonvaRenderer.updateContainer(null, fiberRef.current, null);\n      stage.current.destroy();\n    };\n  }, []);\n\n  React.useLayoutEffect(function () {\n    _setRef(stage.current);\n    applyNodeProps(stage.current, props, oldProps);\n    KonvaRenderer.updateContainer(props.children, fiberRef.current, null);\n  });\n\n  return React.createElement('div', {\n    ref: container,\n    accessKey: props.accessKey,\n    className: props.className,\n    role: props.role,\n    style: props.style,\n    tabIndex: props.tabIndex,\n    title: props.title\n  });\n};\n\nexport var Layer = 'Layer';\nexport var FastLayer = 'FastLayer';\nexport var Group = 'Group';\nexport var Label = 'Label';\nexport var Rect = 'Rect';\nexport var Circle = 'Circle';\nexport var Ellipse = 'Ellipse';\nexport var Wedge = 'Wedge';\nexport var Line = 'Line';\nexport var Sprite = 'Sprite';\nexport var Image = 'Image';\nexport var Text = 'Text';\nexport var TextPath = 'TextPath';\nexport var Star = 'Star';\nexport var Ring = 'Ring';\nexport var Arc = 'Arc';\nexport var Tag = 'Tag';\nexport var Path = 'Path';\nexport var RegularPolygon = 'RegularPolygon';\nexport var Arrow = 'Arrow';\nexport var Shape = 'Shape';\nexport var Transformer = 'Transformer';\n\nvar KonvaRenderer = ReactFiberReconciler(HostConfig);\n\nKonvaRenderer.injectIntoDevTools({\n  findHostInstanceByFiber: function findHostInstanceByFiber() {\n    return null;\n  },\n  bundleType: process.env.NODE_ENV !== 'production' ? 1 : 0,\n  version: React.version,\n  rendererPackageName: 'react-konva'\n});\n\nexport var Stage = React.forwardRef(function (props, ref) {\n  return React.createElement(StageWrap, _extends({}, props, { forwardedRef: ref }));\n});\n\nexport var useStrictMode = toggleStrictMode;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}