{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Layer = void 0;\nvar Util_1 = require(\"./Util\");\nvar Container_1 = require(\"./Container\");\nvar Node_1 = require(\"./Node\");\nvar Factory_1 = require(\"./Factory\");\nvar Canvas_1 = require(\"./Canvas\");\nvar Validators_1 = require(\"./Validators\");\nvar Shape_1 = require(\"./Shape\");\nvar Global_1 = require(\"./Global\");\nvar HASH = '#',\n  BEFORE_DRAW = 'beforeDraw',\n  DRAW = 'draw',\n  INTERSECTION_OFFSETS = [{\n    x: 0,\n    y: 0\n  }, {\n    x: -1,\n    y: -1\n  }, {\n    x: 1,\n    y: -1\n  }, {\n    x: 1,\n    y: 1\n  }, {\n    x: -1,\n    y: 1\n  }],\n  INTERSECTION_OFFSETS_LEN = INTERSECTION_OFFSETS.length;\nvar Layer = function (_super) {\n  __extends(Layer, _super);\n  function Layer(config) {\n    var _this = _super.call(this, config) || this;\n    _this.canvas = new Canvas_1.SceneCanvas();\n    _this.hitCanvas = new Canvas_1.HitCanvas({\n      pixelRatio: 1\n    });\n    _this._waitingForDraw = false;\n    _this.on('visibleChange.konva', _this._checkVisibility);\n    _this._checkVisibility();\n    _this.on('imageSmoothingEnabledChange.konva', _this._setSmoothEnabled);\n    _this._setSmoothEnabled();\n    return _this;\n  }\n  Layer.prototype.createPNGStream = function () {\n    var c = this.canvas._canvas;\n    return c.createPNGStream();\n  };\n  Layer.prototype.getCanvas = function () {\n    return this.canvas;\n  };\n  Layer.prototype.getHitCanvas = function () {\n    return this.hitCanvas;\n  };\n  Layer.prototype.getContext = function () {\n    return this.getCanvas().getContext();\n  };\n  Layer.prototype.clear = function (bounds) {\n    this.getContext().clear(bounds);\n    this.getHitCanvas().getContext().clear(bounds);\n    return this;\n  };\n  Layer.prototype.setZIndex = function (index) {\n    _super.prototype.setZIndex.call(this, index);\n    var stage = this.getStage();\n    if (stage) {\n      stage.content.removeChild(this.getCanvas()._canvas);\n      if (index < stage.children.length - 1) {\n        stage.content.insertBefore(this.getCanvas()._canvas, stage.children[index + 1].getCanvas()._canvas);\n      } else {\n        stage.content.appendChild(this.getCanvas()._canvas);\n      }\n    }\n    return this;\n  };\n  Layer.prototype.moveToTop = function () {\n    Node_1.Node.prototype.moveToTop.call(this);\n    var stage = this.getStage();\n    if (stage) {\n      stage.content.removeChild(this.getCanvas()._canvas);\n      stage.content.appendChild(this.getCanvas()._canvas);\n    }\n    return true;\n  };\n  Layer.prototype.moveUp = function () {\n    var moved = Node_1.Node.prototype.moveUp.call(this);\n    if (!moved) {\n      return false;\n    }\n    var stage = this.getStage();\n    if (!stage) {\n      return false;\n    }\n    stage.content.removeChild(this.getCanvas()._canvas);\n    if (this.index < stage.children.length - 1) {\n      stage.content.insertBefore(this.getCanvas()._canvas, stage.children[this.index + 1].getCanvas()._canvas);\n    } else {\n      stage.content.appendChild(this.getCanvas()._canvas);\n    }\n    return true;\n  };\n  Layer.prototype.moveDown = function () {\n    if (Node_1.Node.prototype.moveDown.call(this)) {\n      var stage = this.getStage();\n      if (stage) {\n        var children = stage.children;\n        stage.content.removeChild(this.getCanvas()._canvas);\n        stage.content.insertBefore(this.getCanvas()._canvas, children[this.index + 1].getCanvas()._canvas);\n      }\n      return true;\n    }\n    return false;\n  };\n  Layer.prototype.moveToBottom = function () {\n    if (Node_1.Node.prototype.moveToBottom.call(this)) {\n      var stage = this.getStage();\n      if (stage) {\n        var children = stage.children;\n        stage.content.removeChild(this.getCanvas()._canvas);\n        stage.content.insertBefore(this.getCanvas()._canvas, children[1].getCanvas()._canvas);\n      }\n      return true;\n    }\n    return false;\n  };\n  Layer.prototype.getLayer = function () {\n    return this;\n  };\n  Layer.prototype.remove = function () {\n    var _canvas = this.getCanvas()._canvas;\n    Node_1.Node.prototype.remove.call(this);\n    if (_canvas && _canvas.parentNode && Util_1.Util._isInDocument(_canvas)) {\n      _canvas.parentNode.removeChild(_canvas);\n    }\n    return this;\n  };\n  Layer.prototype.getStage = function () {\n    return this.parent;\n  };\n  Layer.prototype.setSize = function (_a) {\n    var width = _a.width,\n      height = _a.height;\n    this.canvas.setSize(width, height);\n    this.hitCanvas.setSize(width, height);\n    this._setSmoothEnabled();\n    return this;\n  };\n  Layer.prototype._validateAdd = function (child) {\n    var type = child.getType();\n    if (type !== 'Group' && type !== 'Shape') {\n      Util_1.Util.throw('You may only add groups and shapes to a layer.');\n    }\n  };\n  Layer.prototype._toKonvaCanvas = function (config) {\n    config = config || {};\n    config.width = config.width || this.getWidth();\n    config.height = config.height || this.getHeight();\n    config.x = config.x !== undefined ? config.x : this.x();\n    config.y = config.y !== undefined ? config.y : this.y();\n    return Node_1.Node.prototype._toKonvaCanvas.call(this, config);\n  };\n  Layer.prototype._checkVisibility = function () {\n    var visible = this.visible();\n    if (visible) {\n      this.canvas._canvas.style.display = 'block';\n    } else {\n      this.canvas._canvas.style.display = 'none';\n    }\n  };\n  Layer.prototype._setSmoothEnabled = function () {\n    this.getContext()._context.imageSmoothingEnabled = this.imageSmoothingEnabled();\n  };\n  Layer.prototype.getWidth = function () {\n    if (this.parent) {\n      return this.parent.width();\n    }\n  };\n  Layer.prototype.setWidth = function () {\n    Util_1.Util.warn('Can not change width of layer. Use \"stage.width(value)\" function instead.');\n  };\n  Layer.prototype.getHeight = function () {\n    if (this.parent) {\n      return this.parent.height();\n    }\n  };\n  Layer.prototype.setHeight = function () {\n    Util_1.Util.warn('Can not change height of layer. Use \"stage.height(value)\" function instead.');\n  };\n  Layer.prototype.batchDraw = function () {\n    var _this = this;\n    if (!this._waitingForDraw) {\n      this._waitingForDraw = true;\n      Util_1.Util.requestAnimFrame(function () {\n        _this.draw();\n        _this._waitingForDraw = false;\n      });\n    }\n    return this;\n  };\n  Layer.prototype.getIntersection = function (pos, selector) {\n    if (!this.isListening() || !this.isVisible()) {\n      return null;\n    }\n    var spiralSearchDistance = 1;\n    var continueSearch = false;\n    while (true) {\n      for (var i = 0; i < INTERSECTION_OFFSETS_LEN; i++) {\n        var intersectionOffset = INTERSECTION_OFFSETS[i];\n        var obj = this._getIntersection({\n          x: pos.x + intersectionOffset.x * spiralSearchDistance,\n          y: pos.y + intersectionOffset.y * spiralSearchDistance\n        });\n        var shape = obj.shape;\n        if (shape && selector) {\n          return shape.findAncestor(selector, true);\n        } else if (shape) {\n          return shape;\n        }\n        continueSearch = !!obj.antialiased;\n        if (!obj.antialiased) {\n          break;\n        }\n      }\n      if (continueSearch) {\n        spiralSearchDistance += 1;\n      } else {\n        return null;\n      }\n    }\n  };\n  Layer.prototype._getIntersection = function (pos) {\n    var ratio = this.hitCanvas.pixelRatio;\n    var p = this.hitCanvas.context.getImageData(Math.round(pos.x * ratio), Math.round(pos.y * ratio), 1, 1).data;\n    var p3 = p[3];\n    if (p3 === 255) {\n      var colorKey = Util_1.Util._rgbToHex(p[0], p[1], p[2]);\n      var shape = Shape_1.shapes[HASH + colorKey];\n      if (shape) {\n        return {\n          shape: shape\n        };\n      }\n      return {\n        antialiased: true\n      };\n    } else if (p3 > 0) {\n      return {\n        antialiased: true\n      };\n    }\n    return {};\n  };\n  Layer.prototype.drawScene = function (can, top) {\n    var layer = this.getLayer(),\n      canvas = can || layer && layer.getCanvas();\n    this._fire(BEFORE_DRAW, {\n      node: this\n    });\n    if (this.clearBeforeDraw()) {\n      canvas.getContext().clear();\n    }\n    Container_1.Container.prototype.drawScene.call(this, canvas, top);\n    this._fire(DRAW, {\n      node: this\n    });\n    return this;\n  };\n  Layer.prototype.drawHit = function (can, top) {\n    var layer = this.getLayer(),\n      canvas = can || layer && layer.hitCanvas;\n    if (layer && layer.clearBeforeDraw()) {\n      layer.getHitCanvas().getContext().clear();\n    }\n    Container_1.Container.prototype.drawHit.call(this, canvas, top);\n    return this;\n  };\n  Layer.prototype.enableHitGraph = function () {\n    this.hitGraphEnabled(true);\n    return this;\n  };\n  Layer.prototype.disableHitGraph = function () {\n    this.hitGraphEnabled(false);\n    return this;\n  };\n  Layer.prototype.setHitGraphEnabled = function (val) {\n    Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n    this.listening(val);\n  };\n  Layer.prototype.getHitGraphEnabled = function (val) {\n    Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n    return this.listening();\n  };\n  Layer.prototype.toggleHitCanvas = function () {\n    if (!this.parent) {\n      return;\n    }\n    var parent = this.parent;\n    var added = !!this.hitCanvas._canvas.parentNode;\n    if (added) {\n      parent.content.removeChild(this.hitCanvas._canvas);\n    } else {\n      parent.content.appendChild(this.hitCanvas._canvas);\n    }\n  };\n  return Layer;\n}(Container_1.Container);\nexports.Layer = Layer;\nLayer.prototype.nodeType = 'Layer';\nGlobal_1._registerNode(Layer);\nFactory_1.Factory.addGetterSetter(Layer, 'imageSmoothingEnabled', true);\nFactory_1.Factory.addGetterSetter(Layer, 'clearBeforeDraw', true);\nFactory_1.Factory.addGetterSetter(Layer, 'hitGraphEnabled', true, Validators_1.getBooleanValidator());\nUtil_1.Collection.mapMethods(Layer);","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","defineProperty","exports","value","Layer","Util_1","require","Container_1","Node_1","Factory_1","Canvas_1","Validators_1","Shape_1","Global_1","HASH","BEFORE_DRAW","DRAW","INTERSECTION_OFFSETS","x","y","INTERSECTION_OFFSETS_LEN","length","_super","config","_this","canvas","SceneCanvas","hitCanvas","HitCanvas","pixelRatio","_waitingForDraw","on","_checkVisibility","_setSmoothEnabled","createPNGStream","c","_canvas","getCanvas","getHitCanvas","getContext","clear","bounds","setZIndex","index","stage","getStage","content","removeChild","children","insertBefore","appendChild","moveToTop","Node","moveUp","moved","moveDown","moveToBottom","getLayer","remove","parentNode","Util","_isInDocument","parent","setSize","_a","width","height","_validateAdd","child","type","getType","throw","_toKonvaCanvas","getWidth","getHeight","undefined","visible","style","display","_context","imageSmoothingEnabled","setWidth","warn","setHeight","batchDraw","requestAnimFrame","draw","getIntersection","pos","selector","isListening","isVisible","spiralSearchDistance","continueSearch","i","intersectionOffset","obj","_getIntersection","shape","findAncestor","antialiased","ratio","context","getImageData","Math","round","data","p3","colorKey","_rgbToHex","shapes","drawScene","can","top","layer","_fire","node","clearBeforeDraw","Container","drawHit","enableHitGraph","hitGraphEnabled","disableHitGraph","setHitGraphEnabled","val","listening","getHitGraphEnabled","toggleHitCanvas","added","nodeType","_registerNode","Factory","addGetterSetter","getBooleanValidator","Collection","mapMethods"],"sources":["/Users/UX201446/Documents/GitHub/konva/node_modules/konva/lib/Layer.js"],"sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Layer = void 0;\nvar Util_1 = require(\"./Util\");\nvar Container_1 = require(\"./Container\");\nvar Node_1 = require(\"./Node\");\nvar Factory_1 = require(\"./Factory\");\nvar Canvas_1 = require(\"./Canvas\");\nvar Validators_1 = require(\"./Validators\");\nvar Shape_1 = require(\"./Shape\");\nvar Global_1 = require(\"./Global\");\nvar HASH = '#', BEFORE_DRAW = 'beforeDraw', DRAW = 'draw', INTERSECTION_OFFSETS = [\n    { x: 0, y: 0 },\n    { x: -1, y: -1 },\n    { x: 1, y: -1 },\n    { x: 1, y: 1 },\n    { x: -1, y: 1 },\n], INTERSECTION_OFFSETS_LEN = INTERSECTION_OFFSETS.length;\nvar Layer = (function (_super) {\n    __extends(Layer, _super);\n    function Layer(config) {\n        var _this = _super.call(this, config) || this;\n        _this.canvas = new Canvas_1.SceneCanvas();\n        _this.hitCanvas = new Canvas_1.HitCanvas({\n            pixelRatio: 1,\n        });\n        _this._waitingForDraw = false;\n        _this.on('visibleChange.konva', _this._checkVisibility);\n        _this._checkVisibility();\n        _this.on('imageSmoothingEnabledChange.konva', _this._setSmoothEnabled);\n        _this._setSmoothEnabled();\n        return _this;\n    }\n    Layer.prototype.createPNGStream = function () {\n        var c = this.canvas._canvas;\n        return c.createPNGStream();\n    };\n    Layer.prototype.getCanvas = function () {\n        return this.canvas;\n    };\n    Layer.prototype.getHitCanvas = function () {\n        return this.hitCanvas;\n    };\n    Layer.prototype.getContext = function () {\n        return this.getCanvas().getContext();\n    };\n    Layer.prototype.clear = function (bounds) {\n        this.getContext().clear(bounds);\n        this.getHitCanvas().getContext().clear(bounds);\n        return this;\n    };\n    Layer.prototype.setZIndex = function (index) {\n        _super.prototype.setZIndex.call(this, index);\n        var stage = this.getStage();\n        if (stage) {\n            stage.content.removeChild(this.getCanvas()._canvas);\n            if (index < stage.children.length - 1) {\n                stage.content.insertBefore(this.getCanvas()._canvas, stage.children[index + 1].getCanvas()._canvas);\n            }\n            else {\n                stage.content.appendChild(this.getCanvas()._canvas);\n            }\n        }\n        return this;\n    };\n    Layer.prototype.moveToTop = function () {\n        Node_1.Node.prototype.moveToTop.call(this);\n        var stage = this.getStage();\n        if (stage) {\n            stage.content.removeChild(this.getCanvas()._canvas);\n            stage.content.appendChild(this.getCanvas()._canvas);\n        }\n        return true;\n    };\n    Layer.prototype.moveUp = function () {\n        var moved = Node_1.Node.prototype.moveUp.call(this);\n        if (!moved) {\n            return false;\n        }\n        var stage = this.getStage();\n        if (!stage) {\n            return false;\n        }\n        stage.content.removeChild(this.getCanvas()._canvas);\n        if (this.index < stage.children.length - 1) {\n            stage.content.insertBefore(this.getCanvas()._canvas, stage.children[this.index + 1].getCanvas()._canvas);\n        }\n        else {\n            stage.content.appendChild(this.getCanvas()._canvas);\n        }\n        return true;\n    };\n    Layer.prototype.moveDown = function () {\n        if (Node_1.Node.prototype.moveDown.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                stage.content.removeChild(this.getCanvas()._canvas);\n                stage.content.insertBefore(this.getCanvas()._canvas, children[this.index + 1].getCanvas()._canvas);\n            }\n            return true;\n        }\n        return false;\n    };\n    Layer.prototype.moveToBottom = function () {\n        if (Node_1.Node.prototype.moveToBottom.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                stage.content.removeChild(this.getCanvas()._canvas);\n                stage.content.insertBefore(this.getCanvas()._canvas, children[1].getCanvas()._canvas);\n            }\n            return true;\n        }\n        return false;\n    };\n    Layer.prototype.getLayer = function () {\n        return this;\n    };\n    Layer.prototype.remove = function () {\n        var _canvas = this.getCanvas()._canvas;\n        Node_1.Node.prototype.remove.call(this);\n        if (_canvas && _canvas.parentNode && Util_1.Util._isInDocument(_canvas)) {\n            _canvas.parentNode.removeChild(_canvas);\n        }\n        return this;\n    };\n    Layer.prototype.getStage = function () {\n        return this.parent;\n    };\n    Layer.prototype.setSize = function (_a) {\n        var width = _a.width, height = _a.height;\n        this.canvas.setSize(width, height);\n        this.hitCanvas.setSize(width, height);\n        this._setSmoothEnabled();\n        return this;\n    };\n    Layer.prototype._validateAdd = function (child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util_1.Util.throw('You may only add groups and shapes to a layer.');\n        }\n    };\n    Layer.prototype._toKonvaCanvas = function (config) {\n        config = config || {};\n        config.width = config.width || this.getWidth();\n        config.height = config.height || this.getHeight();\n        config.x = config.x !== undefined ? config.x : this.x();\n        config.y = config.y !== undefined ? config.y : this.y();\n        return Node_1.Node.prototype._toKonvaCanvas.call(this, config);\n    };\n    Layer.prototype._checkVisibility = function () {\n        var visible = this.visible();\n        if (visible) {\n            this.canvas._canvas.style.display = 'block';\n        }\n        else {\n            this.canvas._canvas.style.display = 'none';\n        }\n    };\n    Layer.prototype._setSmoothEnabled = function () {\n        this.getContext()._context.imageSmoothingEnabled = this.imageSmoothingEnabled();\n    };\n    Layer.prototype.getWidth = function () {\n        if (this.parent) {\n            return this.parent.width();\n        }\n    };\n    Layer.prototype.setWidth = function () {\n        Util_1.Util.warn('Can not change width of layer. Use \"stage.width(value)\" function instead.');\n    };\n    Layer.prototype.getHeight = function () {\n        if (this.parent) {\n            return this.parent.height();\n        }\n    };\n    Layer.prototype.setHeight = function () {\n        Util_1.Util.warn('Can not change height of layer. Use \"stage.height(value)\" function instead.');\n    };\n    Layer.prototype.batchDraw = function () {\n        var _this = this;\n        if (!this._waitingForDraw) {\n            this._waitingForDraw = true;\n            Util_1.Util.requestAnimFrame(function () {\n                _this.draw();\n                _this._waitingForDraw = false;\n            });\n        }\n        return this;\n    };\n    Layer.prototype.getIntersection = function (pos, selector) {\n        if (!this.isListening() || !this.isVisible()) {\n            return null;\n        }\n        var spiralSearchDistance = 1;\n        var continueSearch = false;\n        while (true) {\n            for (var i = 0; i < INTERSECTION_OFFSETS_LEN; i++) {\n                var intersectionOffset = INTERSECTION_OFFSETS[i];\n                var obj = this._getIntersection({\n                    x: pos.x + intersectionOffset.x * spiralSearchDistance,\n                    y: pos.y + intersectionOffset.y * spiralSearchDistance,\n                });\n                var shape = obj.shape;\n                if (shape && selector) {\n                    return shape.findAncestor(selector, true);\n                }\n                else if (shape) {\n                    return shape;\n                }\n                continueSearch = !!obj.antialiased;\n                if (!obj.antialiased) {\n                    break;\n                }\n            }\n            if (continueSearch) {\n                spiralSearchDistance += 1;\n            }\n            else {\n                return null;\n            }\n        }\n    };\n    Layer.prototype._getIntersection = function (pos) {\n        var ratio = this.hitCanvas.pixelRatio;\n        var p = this.hitCanvas.context.getImageData(Math.round(pos.x * ratio), Math.round(pos.y * ratio), 1, 1).data;\n        var p3 = p[3];\n        if (p3 === 255) {\n            var colorKey = Util_1.Util._rgbToHex(p[0], p[1], p[2]);\n            var shape = Shape_1.shapes[HASH + colorKey];\n            if (shape) {\n                return {\n                    shape: shape,\n                };\n            }\n            return {\n                antialiased: true,\n            };\n        }\n        else if (p3 > 0) {\n            return {\n                antialiased: true,\n            };\n        }\n        return {};\n    };\n    Layer.prototype.drawScene = function (can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas());\n        this._fire(BEFORE_DRAW, {\n            node: this,\n        });\n        if (this.clearBeforeDraw()) {\n            canvas.getContext().clear();\n        }\n        Container_1.Container.prototype.drawScene.call(this, canvas, top);\n        this._fire(DRAW, {\n            node: this,\n        });\n        return this;\n    };\n    Layer.prototype.drawHit = function (can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas);\n        if (layer && layer.clearBeforeDraw()) {\n            layer.getHitCanvas().getContext().clear();\n        }\n        Container_1.Container.prototype.drawHit.call(this, canvas, top);\n        return this;\n    };\n    Layer.prototype.enableHitGraph = function () {\n        this.hitGraphEnabled(true);\n        return this;\n    };\n    Layer.prototype.disableHitGraph = function () {\n        this.hitGraphEnabled(false);\n        return this;\n    };\n    Layer.prototype.setHitGraphEnabled = function (val) {\n        Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        this.listening(val);\n    };\n    Layer.prototype.getHitGraphEnabled = function (val) {\n        Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        return this.listening();\n    };\n    Layer.prototype.toggleHitCanvas = function () {\n        if (!this.parent) {\n            return;\n        }\n        var parent = this.parent;\n        var added = !!this.hitCanvas._canvas.parentNode;\n        if (added) {\n            parent.content.removeChild(this.hitCanvas._canvas);\n        }\n        else {\n            parent.content.appendChild(this.hitCanvas._canvas);\n        }\n    };\n    return Layer;\n}(Container_1.Container));\nexports.Layer = Layer;\nLayer.prototype.nodeType = 'Layer';\nGlobal_1._registerNode(Layer);\nFactory_1.Factory.addGetterSetter(Layer, 'imageSmoothingEnabled', true);\nFactory_1.Factory.addGetterSetter(Layer, 'clearBeforeDraw', true);\nFactory_1.Factory.addGetterSetter(Layer, 'hitGraphEnabled', true, Validators_1.getBooleanValidator());\nUtil_1.Collection.mapMethods(Layer);\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}